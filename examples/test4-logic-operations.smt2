(set-logic HORN)
(set-option :fp.engine spacer)
(set-option :model true)

(declare-fun q1 (Int) Bool)
(declare-fun q2 (Int Int) Bool)
(declare-fun q3 (Int) Bool)
(declare-fun q4 () Bool)
(assert (forall ((|a| Int)) (=> (and (= |a| 42)) (q1 |a|))))
(assert (forall ((|a| Int) (|b| Int)) (=> (and (q1 |a|) (= |b| 4)) (q2 |a| |b|))))
(assert (forall ((|a| Int) (|b| Int)) (=> (and (q2 |a| |b|)) (and (= |a| 42) (= |b| 4)))))
(assert (forall ((|a| Int) (|b| Int)) (=> (and (q2 |a| |b|)) (or (= |a| 42) (= |b| 5)))))
(assert (forall ((|a| Int) (|b| Int)) (=> (and (q2 |a| |b|)) (q3 |a|))))
(assert (forall ((|a| Int)) (=> (and (q3 |a|)) (not (= |a| 43)))))
(assert (forall ((|a| Int)) (=> (and (q3 |a|)) q4)))

(check-sat)
(get-model)
